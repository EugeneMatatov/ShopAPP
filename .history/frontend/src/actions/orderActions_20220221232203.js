import axios from "axios";

import { CART_CLEAR_ITEMS } from "../constants/cartConstants";
import {
  ORDER_CREATE_REQUEST,
  ORDER_CREATE_SUCCESS,
  ORDER_CREATE_FAIL,
  ORDER_DETAILS_FAIL,
  ORDER_DETAILS_SUCCESS,
  ORDER_DETAILS_REQUEST,
  ORDER_PAY_FAIL,
  ORDER_PAY_SUCCESS,
  ORDER_PAY_REQUEST,
  ORDER_LIST_MY_REQUEST,
  ORDER_LIST_MY_SUCCESS,
  ORDER_LIST_MY_FAIL,
  ORDER_LIST_FAIL,
  ORDER_LIST_SUCCESS,
  ORDER_LIST_REQUEST,
  ORDER_DELIVER_FAIL,
  ORDER_DELIVER_SUCCESS,
  ORDER_DELIVER_REQUEST,
} from "../constants/orderConstants";
import { logout } from "./userActions";
const base64ToArrayBuffer = (base64) => {
  let binaryString = window.atob(base64);
  let binaryLength = binaryString.length;
  let bytes = new Uint8Array(binaryLength);

  for (let i = 0; i < binaryLength; i++) {
    let ascii = binaryString.charCodeAt(i);
    bytes[i] = ascii;
  }
  return bytes;
};
export const createOrder = (order) => async (dispatch, getState) => {
  try {
    dispatch({
      type: ORDER_CREATE_REQUEST,
    });
    console.log(order);
    const orderItemsM = [];
    order.orderItems.map((i) => {
      const temp="data:image/jpeg;base64,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AABMZWZ0VW50RiNSbHQAAAAAAAAAAAAAAABUb3AgVW50RiNSbHQAAAAAAAAAAAAAAABTY2wgVW50RiNQcmNAWQAAAAAAAAAAABBjcm9wV2hlblByaW50aW5nYm9vbAAAAAAOY3JvcFJlY3RCb3R0b21sb25nAAAAAAAAAAxjcm9wUmVjdExlZnRsb25nAAAAAAAAAA1jcm9wUmVjdFJpZ2h0bG9uZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgADOEJJTQQCAAAAAAAMAAAAAAAAAAAAAAAAOEJJTQQwAAAAAAAGAQEBAQEBOEJJTQQtAAAAAAAGAAEAAAAEOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAA4EAAAAGAAAAAAAAAAAAAAH+AAACgAAAACYAZgByAGEAbgBrAGkAZQAtAHYAYQBsAGUAbgB0AGkAbgBlAC0AVgBnAGgAYgBCAEEAWQBxAFUASgAwAC0AdQBuAHMAcABsAGEAcwBoAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAKAAAAB/gAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAbnVsbAAAAAIAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9u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dHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3OWY2ZDMxYS00MDlkLTZlNDktODY2Yy1kMjAzZjYzNWQzMWUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZTZhNDg0M2QtYzE5Yi02NzRjLTgyOWEtYTc2Zjc5NjNjZmQ5IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9IjQ4QTVEMDdGNjQ3NDYzNzI2RUUyRkQ2ODk4NjI0RjAxIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJjMiIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDgtMjZUMTE6NDA6MzctMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA4LTI2VDExOjUxOjEzLTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA4LTI2VDExOjUxOjEzLTA0OjAwIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MWY3MTM0MjctYmQ0Zi03YTQ4LTkwYTUtYjIzNTU5NWU2OGViIiBzdEV2dDp3aGVuPSIyMDIwLTA4LTI2VDExOjUxOjEzLTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmU2YTQ4NDNkLWMxOWItNjc0Yy04MjlhLWE3NmY3OTYzY2ZkOSIgc3RFdnQ6d2hlbj0iMjAyMC0wOC0yNlQxMTo1MToxMy0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT4wMjRGQjdEQUM3NjIwRjFDM0JENDE3MzgyM0VDRUM3RDwvcmRmOmxpPiA8cmRmOmxpPjIzN0I5QTYwRUZENzhFQ0Y5RUZBNkNDNjQ4RUZEMkVDPC9yZGY6bGk+IDxyZGY6bGk+NUZBM0IwMEIxMjdFQzREMEZFOTU0MzVENzY4NzRBOTU8L3JkZjpsaT4gPHJkZjpsaT44NjUxRkY4MUUzQzc5RkE0NUM3NTU1QjNBNTE3MjIwMzwvcmRmOmxpPiA8cmRmOmxpPkY3RjM0MTYxNEU2RDgxMEJFMEZDODAxQkE0REI4RDk1PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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""
      console.log(base64ToArrayBuffer(i.img));
    });
    const {
      userLogin: { userInfo },
    } = getState();

    const config = {
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${userInfo.token}`,
      },
    };

    const { data } = await axios.post(`/api/orders`, order, config);
    //console.log(data);
    dispatch({
      type: ORDER_CREATE_SUCCESS,
      payload: data,
    });
    dispatch({
      type: CART_CLEAR_ITEMS,
      payload: data,
    });
    localStorage.removeItem("cartItems");
  } catch (error) {
    const message =
      error.response && error.response.data.message
        ? error.response.data.message
        : error.message;
    if (message === "Not authorized, token failed") {
      dispatch(logout());
    }
    dispatch({
      type: ORDER_CREATE_FAIL,
      payload: message,
    });
  }
};
const arrayBufferToBase64 = (buffer) => {
  var binary = "";
  var bytes = [].slice.call(new Uint8Array(buffer));
  bytes.forEach((b) => (binary += String.fromCharCode(b)));
  return window.btoa(binary);
};
export const getOrderDetails = (id) => async (dispatch, getState) => {
  try {
    dispatch({
      type: ORDER_DETAILS_REQUEST,
    });

    const {
      userLogin: { userInfo },
    } = getState();

    const config = {
      headers: {
        Authorization: `Bearer ${userInfo.token}`,
      },
    };

    const { data } = await axios.get(`/api/orders/${id}`, config);

    //console.log(data);
    const orderItemsM = [];
    data.orderItems.map((p) => {
      const base64Flag = "data:image/jpeg;base64,";
      const imageStr = arrayBufferToBase64(p.img.data.data);
      const imgB = base64Flag + imageStr;
      p = { ...p, img: imgB };
      orderItemsM.push(p);
    });
    const dataM = { ...data, orderItems: orderItemsM };
    //console.log(dataM);

    dispatch({
      type: ORDER_DETAILS_SUCCESS,
      payload: dataM,
    });
  } catch (error) {
    const message =
      error.response && error.response.data.message
        ? error.response.data.message
        : error.message;
    if (message === "Not authorized, token failed") {
      dispatch(logout());
    }
    dispatch({
      type: ORDER_DETAILS_FAIL,
      payload: message,
    });
  }
};

export const payOrder =
  (orderId, paymentResult) => async (dispatch, getState) => {
    try {
      dispatch({
        type: ORDER_PAY_REQUEST,
      });

      const {
        userLogin: { userInfo },
      } = getState();

      const config = {
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${userInfo.token}`,
        },
      };

      const { data } = await axios.put(
        `/api/orders/${orderId}/pay`,
        paymentResult,
        config
      );

      dispatch({
        type: ORDER_PAY_SUCCESS,
        payload: data,
      });
    } catch (error) {
      const message =
        error.response && error.response.data.message
          ? error.response.data.message
          : error.message;
      if (message === "Not authorized, token failed") {
        dispatch(logout());
      }
      dispatch({
        type: ORDER_PAY_FAIL,
        payload: message,
      });
    }
  };

export const deliverOrder = (order) => async (dispatch, getState) => {
  try {
    dispatch({
      type: ORDER_DELIVER_REQUEST,
    });

    const {
      userLogin: { userInfo },
    } = getState();

    const config = {
      headers: {
        Authorization: `Bearer ${userInfo.token}`,
      },
    };

    const { data } = await axios.put(
      `/api/orders/${order._id}/deliver`,
      {},
      config
    );

    dispatch({
      type: ORDER_DELIVER_SUCCESS,
      payload: data,
    });
  } catch (error) {
    const message =
      error.response && error.response.data.message
        ? error.response.data.message
        : error.message;
    if (message === "Not authorized, token failed") {
      dispatch(logout());
    }
    dispatch({
      type: ORDER_DELIVER_FAIL,
      payload: message,
    });
  }
};

export const listMyOrders = () => async (dispatch, getState) => {
  try {
    dispatch({
      type: ORDER_LIST_MY_REQUEST,
    });

    const {
      userLogin: { userInfo },
    } = getState();

    const config = {
      headers: {
        Authorization: `Bearer ${userInfo.token}`,
      },
    };

    const { data } = await axios.get(`/api/orders/myorders`, config);

    dispatch({
      type: ORDER_LIST_MY_SUCCESS,
      payload: data,
    });
  } catch (error) {
    const message =
      error.response && error.response.data.message
        ? error.response.data.message
        : error.message;
    if (message === "Not authorized, token failed") {
      dispatch(logout());
    }
    dispatch({
      type: ORDER_LIST_MY_FAIL,
      payload: message,
    });
  }
};

export const listOrders = () => async (dispatch, getState) => {
  try {
    dispatch({
      type: ORDER_LIST_REQUEST,
    });

    const {
      userLogin: { userInfo },
    } = getState();

    const config = {
      headers: {
        Authorization: `Bearer ${userInfo.token}`,
      },
    };

    const { data } = await axios.get(`/api/orders`, config);

    dispatch({
      type: ORDER_LIST_SUCCESS,
      payload: data,
    });
  } catch (error) {
    const message =
      error.response && error.response.data.message
        ? error.response.data.message
        : error.message;
    if (message === "Not authorized, token failed") {
      dispatch(logout());
    }
    dispatch({
      type: ORDER_LIST_FAIL,
      payload: message,
    });
  }
};
